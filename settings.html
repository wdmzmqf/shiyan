<!-- settings.html -->
<!-- 小说注入器设置界面 -->

<div id="novel_injector_panel">
    <h3>📖 小说注入器 (Novel Injector) v8.0</h3>
    
    <!-- 状态显示 -->
    <div id="injector_status">🟡 未启用 - 等待初始化</div>
    
    <!-- 插件启用开关 -->
    <div class="settings-section">
        <h4><i class="fa fa-power-off"></i> 基本设置</h4>
        <div class="settings-group">
            <div class="settings-row">
                <label class="settings-label">启用小说注入器</label>
                <div class="settings-control">
                    <label class="toggle-switch">
                        <input type="checkbox" id="enable_novel_injector">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
            <div class="settings-hint">启用后，聊天发送操作将被拦截并注入小说内容</div>
        </div>
    </div>
    
    <!-- 文件上传区域 -->
    <div class="settings-section">
        <h4><i class="fa fa-upload"></i> 上传小说</h4>
        <div class="upload-section">
            <input type="file" id="novel_file_input" accept=".txt">
            <button id="upload_novel_btn" class="menu_button primary">
                <i class="fa fa-cloud-upload"></i> 上传小说
            </button>
            <div class="settings-hint">支持 .txt 格式，文件大小不超过 50MB</div>
        </div>
    </div>
    
    <!-- 小说列表 -->
    <div class="settings-section">
        <h4><i class="fa fa-book"></i> 小说库</h4>
        <div id="novel_list_container">
            <!-- 小说列表将通过JavaScript动态生成 -->
            <div class="novel-list-empty">
                <div class="empty-icon">📚</div>
                <h4>加载中...</h4>
                <p>正在加载小说列表</p>
            </div>
        </div>
    </div>
    
    <!-- 注入设置 -->
    <div class="settings-section">
        <h4><i class="fa fa-cog"></i> 注入设置</h4>
        
        <div class="settings-group">
            <div class="settings-row">
                <label class="settings-label">目标字数</label>
                <div class="settings-control">
                    <input type="number" id="target_word_count" min="100" max="5000" value="500">
                </div>
            </div>
            <div class="settings-hint">每块注入内容的目标字数（100-5000）</div>
        </div>
        
        <div class="settings-group">
            <div class="settings-row">
                <label class="settings-label">自定义前缀模板</label>
                <div class="settings-control">
                    <textarea id="prefix_template" rows="3">第{title}章 段落{start_para}-{end_para}

</textarea>
                </div>
            </div>
            <div class="settings-hint">支持占位符: {title}(标题), {start_para}(起始段落), {end_para}(结束段落)</div>
        </div>
        
        <div class="settings-group">
            <div class="settings-row">
                <label class="settings-label">内容折叠显示</label>
                <div class="settings-control">
                    <label class="toggle-switch">
                        <input type="checkbox" id="collapse_content" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
            <div class="settings-hint">启用后，长内容将默认折叠以保持界面整洁</div>
        </div>
    </div>
    
    <!-- 自动驾驶模式 -->
    <div class="settings-section">
        <h4><i class="fa fa-rocket"></i> 自动驾驶模式</h4>
        
        <div class="settings-group">
            <div class="settings-row">
                <label class="settings-label">启用自动驾驶</label>
                <div class="settings-control">
                    <label class="toggle-switch">
                        <input type="checkbox" id="autopilot_enabled">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
            <div class="settings-hint">启用后，AI回复完成后将自动注入下一块内容</div>
        </div>
        
        <div class="settings-group">
            <div class="settings-row">
                <label class="settings-label">等待延迟(秒)</label>
                <div class="settings-control">
                    <input type="number" id="autopilot_delay" min="1" max="300" value="3" class="autopilot-control" disabled>
                </div>
            </div>
            <div class="settings-hint">AI回复完成后等待的时间</div>
        </div>
    </div>
    
    <!-- 控制按钮 -->
    <div class="control-buttons">
        <button id="manual_inject_btn" class="menu_button primary">
            <i class="fa fa-paper-plane"></i> 立即发送下一块
        </button>
        <button id="reset_progress_btn" class="menu_button">
            <i class="fa fa-refresh"></i> 重置当前进度
        </button>
        <button id="export_settings_btn" class="menu_button">
            <i class="fa fa-download"></i> 导出设置
        </button>
        <button id="import_settings_btn" class="menu_button">
            <i class="fa fa-upload"></i> 导入设置
        </button>
        <button id="clear_all_data_btn" class="menu_button danger">
            <i class="fa fa-trash"></i> 清空所有数据
        </button>
    </div>
    
    <!-- 隐藏的文件输入框 -->
    <input type="file" id="import_settings_file" accept=".json" style="display: none;">
</div>